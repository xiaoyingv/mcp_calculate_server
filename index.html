<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>mcp_calculate_server - å®‰å…¨è®¡ç®—å™¨MCPæœåŠ¡</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #ff6b6b; /* æ¸…æ–°çº¢ */
            --primary-dark: #e55c5c;
            --secondary-color: #f8f9fa;
            --text-color: #333;
            --accent-color: #4ecdc4; /* é’è‰²ä½œä¸ºç‚¹ç¼€ */
            --code-bg: #f4f4f4;
            --shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--text-color);
            background: linear-gradient(135deg, #fff9f9 0%, #f0f4ff 100%);
            overflow-x: hidden;
        }

        /* åŠ¨ç”» */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-15px); }
            100% { transform: translateY(0px); }
        }

        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0.4); }
            70% { box-shadow: 0 0 0 15px rgba(255, 107, 107, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 107, 107, 0); }
        }

        .animate-on-scroll {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }

        .animate-on-scroll.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* å¸ƒå±€ */
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* è¯­è¨€åˆ‡æ¢å™¨ */
        .lang-switcher {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .lang-btn {
            padding: 8px 15px;
            background-color: rgba(255, 255, 255, 0.7);
            border: 1px solid var(--primary-color);
            color: var(--primary-color);
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: var(--transition);
        }

        .lang-btn:hover {
            background-color: var(--primary-color);
            color: white;
        }

        /* æ ‡é¢˜åŒº */
        header {
            text-align: center;
            padding: 80px 20px 60px;
            background: linear-gradient(to right, var(--primary-color), var(--accent-color));
            color: white;
            position: relative;
            overflow: hidden;
        }

        header::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0) 70%);
            animation: float 15s ease-in-out infinite;
            z-index: 0;
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        h1 {
            font-size: 3.5rem;
            margin-bottom: 20px;
            animation: fadeInUp 1s ease-out;
        }

        .subtitle {
            font-size: 1.5rem;
            margin-bottom: 30px;
            animation: fadeInUp 1s ease-out 0.2s both;
        }

        .badges {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            animation: fadeInUp 1s ease-out 0.4s both;
        }

        .badge {
            display: inline-block;
            padding: 8px 15px;
            background-color: rgba(255, 255, 255, 0.2);
            border-radius: 30px;
            font-size: 0.9rem;
            backdrop-filter: blur(5px);
            transition: var(--transition);
        }

        .badge:hover {
            background-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-3px);
        }

        .badge a {
            color: white;
            text-decoration: none;
        }

        /* ä¸»å†…å®¹åŒº */
        main {
            padding: 60px 0;
        }

        section {
            margin-bottom: 80px;
        }

        h2 {
            font-size: 2.2rem;
            color: var(--primary-color);
            margin-bottom: 30px;
            position: relative;
            display: inline-block;
        }

        h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 60px;
            height: 4px;
            background-color: var(--primary-color);
            border-radius: 2px;
        }

        p {
            font-size: 1.1rem;
            margin-bottom: 20px;
        }

        ul {
            list-style-type: none;
            padding-left: 20px;
            margin-bottom: 20px;
        }

        li {
            margin-bottom: 15px;
            padding-left: 30px;
            position: relative;
        }

        li::before {
            content: "âœ“";
            color: var(--accent-color);
            position: absolute;
            left: 0;
            font-weight: bold;
        }

        .warning li::before {
            content: "âš ";
            color: var(--primary-color);
        }

        pre {
            background-color: var(--code-bg);
            padding: 20px;
            border-radius: 10px;
            overflow-x: auto;
            box-shadow: var(--shadow);
            margin: 20px 0;
            transition: var(--transition);
        }

        pre:hover {
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.15);
        }

        code {
            font-family: 'Courier New', monospace;
            font-size: 1rem;
        }

        /* è¡¨æ ¼æ ·å¼ */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            box-shadow: var(--shadow);
            border-radius: 10px;
            overflow: hidden;
        }

        th, td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #eee;
        }

        th {
            background-color: var(--primary-color);
            color: white;
        }

        tr:last-child td {
            border-bottom: none;
        }

        tr:nth-child(even) {
            background-color: #fdfdfd;
        }

        tr:hover {
            background-color: #fff5f5;
        }

        /* æŒ‰é’® */
        .btn {
            display: inline-block;
            padding: 12px 25px;
            background-color: var(--primary-color);
            color: white;
            text-decoration: none;
            border-radius: 30px;
            font-weight: bold;
            transition: var(--transition);
            border: none;
            cursor: pointer;
            font-size: 1rem;
            box-shadow: var(--shadow);
            animation: pulse 2s infinite;
        }

        .btn:hover {
            background-color: var(--primary-dark);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.4);
        }

        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            animation: none;
        }

        .btn-outline:hover {
            background-color: var(--primary-color);
            color: white;
        }

        .btn-container {
            text-align: center;
            margin-top: 30px;
        }

        /* å¡ç‰‡åŒº */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }

        .feature-card {
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            transition: var(--transition);
            text-align: center;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
        }

        .feature-icon {
            font-size: 2.5rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .feature-card h3 {
            margin-bottom: 15px;
            color: var(--primary-color);
        }

        /* é¡µè„š */
        footer {
            background-color: var(--text-color);
            color: white;
            text-align: center;
            padding: 30px 0;
        }

        footer a {
            color: var(--accent-color);
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }

        /* å“åº”å¼ */
        @media (max-width: 768px) {
            h1 {
                font-size: 2.5rem;
            }
            .subtitle {
                font-size: 1.2rem;
            }
            h2 {
                font-size: 1.8rem;
            }
            .features-grid {
                grid-template-columns: 1fr;
            }
            pre, code {
                font-size: 0.85rem;
            }
            .lang-switcher {
                top: 10px;
                right: 10px;
            }
        }
    </style>
</head>
<body>

    <div class="lang-switcher">
        <button id="langToggle" class="lang-btn">EN</button>
    </div>

    <header>
        <div class="header-content">
            <h1 data-i18n="title"><i class="fas fa-calculator"></i> mcp_calculate_server</h1>
            <p class="subtitle" data-i18n="subtitle">åŸºäº Python AST çš„å®‰å…¨è¡¨è¾¾å¼è®¡ç®—å™¨ MCP æœåŠ¡</p>
            <div class="badges">
                <span class="badge"><a href="https://pypi.org/project/mcp-calculate-server/" target="_blank"><i class="fab fa-python"></i> <span data-i18n="badge_pypi">PyPI</span></a></span>
                <span class="badge"><a href="https://github.com/xiaoyingv/mcp_calculate_server/blob/main/LICENSE" target="_blank"><i class="fas fa-balance-scale"></i> <span data-i18n="badge_license">MIT License</span></a></span>
                <span class="badge"><a href="https://pypi.org/project/mcp-calculate-server/" target="_blank"><i class="fas fa-code"></i> <span data-i18n="badge_python">Python 3.13+</span></a></span>
                <span class="badge"><a href="https://github.com/xiaoyingv/mcp_calculate_server" target="_blank"><i class="fab fa-github"></i> <span data-i18n="badge_github">GitHub</span></a></span>
            </div>
        </div>
    </header>

    <main class="container">

        <section id="intro" class="animate-on-scroll">
            <h2 data-i18n="section_intro_title">ç®€ä»‹</h2>
            <p data-i18n="section_intro_content">mcp_calculate_server æ˜¯ä¸€ä¸ªè½»é‡çº§ã€å®‰å…¨çš„è®¡ç®—å™¨æœåŠ¡ï¼Œå®ƒå®ç°äº† Model Context Protocol (MCP)ã€‚é€šè¿‡åˆ©ç”¨ Python çš„æŠ½è±¡è¯­æ³•æ ‘ (AST) è¿›è¡Œè¡¨è¾¾å¼è§£æï¼Œå®ƒé¿å…äº†ä½¿ç”¨å±é™©çš„ <code>eval()</code> å‡½æ•°ï¼Œä»è€Œæœ‰æ•ˆé˜²æ­¢ä»£ç æ³¨å…¥é£é™©ã€‚å®ƒä¸“æ³¨äºæä¾›åŸºç¡€çš„æ•°å­¦è¿ç®—èƒ½åŠ›ï¼Œå¹¶å†…ç½®äº†å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚</p>
        </section>

        <section id="features" class="animate-on-scroll">
            <h2 data-i18n="section_features_title">æ ¸å¿ƒåŠŸèƒ½</h2>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-plus-square"></i>
                        <i class="fas fa-minus-square"></i>
                        <i class="fas fa-times"></i>
                        <i class="fas fa-divide"></i>
                    </div>
                    <h3 data-i18n="feature_basic_ops_title">åŸºç¡€è¿ç®—</h3>
                    <p data-i18n="feature_basic_ops_content">æ”¯æŒåŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•å››åˆ™è¿ç®—ï¼Œæ»¡è¶³æ—¥å¸¸è®¡ç®—éœ€æ±‚ã€‚</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-shield-alt"></i>
                    </div>
                    <h3 data-i18n="feature_security_title">å®‰å…¨ä¿éšœ</h3>
                    <p data-i18n="feature_security_content">åŸºäº AST è§£æï¼Œæœç»ä»£ç æ³¨å…¥ï¼›å†…ç½®é™¤é›¶ã€è¯­æ³•ã€ç±»å‹ç­‰é”™è¯¯é˜²æŠ¤ã€‚</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-file-code"></i>
                    </div>
                    <h3 data-i18n="feature_mcp_title">MCPé›†æˆ</h3>
                    <p data-i18n="feature_mcp_content">ä½œä¸ºæ ‡å‡† MCP æœåŠ¡ï¼Œå¯è½»æ¾é›†æˆåˆ° Claude Desktop ç­‰æ”¯æŒ MCP çš„åº”ç”¨ä¸­ã€‚</p>
                </div>
            </div>

            <h3 style="margin-top: 40px;" data-i18n="section_features_detail_title">è¯¦ç»†ç‰¹æ€§</h3>
            <ul>
                <li data-i18n="feature_list_1">âœ… æ”¯æŒåŠ å‡ä¹˜é™¤å››åˆ™è¿ç®—ï¼ˆ<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>ï¼‰</li>
                <li data-i18n="feature_list_2">âœ… æ”¯æŒæ­£è´Ÿå·å¤„ç†ï¼ˆ<code>+5</code>, <code>-3</code>ï¼‰</li>
                <li data-i18n="feature_list_3">âœ… è‡ªåŠ¨æ ¼å¼åŒ–è®¡ç®—ç»“æœï¼ˆä¿ç•™ä¸¤ä½å°æ•°ï¼‰</li>
            </ul>
            <ul class="warning">
                <li data-i18n="feature_list_4">âš ï¸ æ‹¦æˆªä»£ç æ³¨å…¥é£é™©ï¼ˆé€šè¿‡ AST è§£æè€Œé <code>eval</code>ï¼‰</li>
                <li data-i18n="feature_list_5">âš ï¸ é™¤é›¶é”™è¯¯é˜²æŠ¤</li>
                <li data-i18n="feature_list_6">âš ï¸ è¯­æ³•é”™è¯¯æç¤º</li>
                <li data-i18n="feature_list_7">âš ï¸ ç±»å‹å®‰å…¨æ£€æŸ¥</li>
            </ul>
        </section>

        <section id="install" class="animate-on-scroll">
            <h2 data-i18n="section_install_title">å¿«é€Ÿå®‰è£…</h2>
            <p data-i18n="section_install_content">åªéœ€ä¸€è¡Œå‘½ä»¤ï¼Œå³å¯å®‰è£…å¹¶å¼€å§‹ä½¿ç”¨ï¼š</p>
            <pre><code>pip install mcp-calculate-server</code></pre>
        </section>

        <section id="usage" class="animate-on-scroll">
            <h2 data-i18n="section_usage_title">å¿«é€Ÿä½¿ç”¨</h2>
            <p data-i18n="section_usage_config">åœ¨æ‚¨çš„ MCP å®¢æˆ·ç«¯é…ç½®ï¼ˆå¦‚ <code>claude_desktop_config.json</code>ï¼‰ä¸­æ·»åŠ ä»¥ä¸‹æœåŠ¡å®šä¹‰ï¼š</p>
            <pre><code>{
  "mcpServers": {
    "calculate_mcp": {
      "command": "uvx",
      "args": ["mcp_calculate_server"]
    }
  }
}</code></pre>
            <p data-i18n="section_usage_code_alt">æˆ–è€…ï¼Œæ‚¨ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ Python ä»£ç å¯åŠ¨æœåŠ¡ï¼š</p>
            <!-- Pythonä»£ç å—å®¹å™¨ -->
            <div id="python-code-container"></div>
        </section>

        <section id="api" class="animate-on-scroll">
            <h2 data-i18n="section_api_title">API æ¥å£</h2>
            <h3><code>perform_calculation(expression: str) -> str</code></h3>
            <p data-i18n="section_api_content">è¿™æ˜¯æ ¸å¿ƒçš„è®¡ç®—æ¥å£ã€‚å®ƒæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²å½¢å¼çš„æ•°å­¦è¡¨è¾¾å¼ï¼Œå¹¶è¿”å›æ ¼å¼åŒ–çš„è®¡ç®—ç»“æœæˆ–é”™è¯¯ä¿¡æ¯ã€‚</p>
            <h4 data-i18n="section_api_example_title">ç¤ºä¾‹:</h4>
            <!-- APIç¤ºä¾‹ä»£ç å—å®¹å™¨ -->
            <div id="api-example-container"></div>
        </section>

        <section id="operators" class="animate-on-scroll">
            <h2 data-i18n="section_operators_title">æ”¯æŒçš„è¿ç®—ç¬¦</h2>
            <!-- è¿ç®—ç¬¦è¡¨æ ¼å®¹å™¨ -->
            <div id="operators-table-container"></div>
        </section>

        <section id="errors" class="animate-on-scroll">
            <h2 data-i18n="section_errors_title">é”™è¯¯å¤„ç†</h2>
            <p data-i18n="section_errors_content">æœåŠ¡å†…ç½®äº†å¤šç§é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿å¥å£®æ€§ï¼š</p>
            <!-- é”™è¯¯å¤„ç†è¡¨æ ¼å®¹å™¨ -->
            <div id="errors-table-container"></div>
        </section>

        <section id="links" class="animate-on-scroll">
            <h2 data-i18n="section_links_title">èµ„æºé“¾æ¥</h2>
            <ul>
                <li><i class="fab fa-python"></i> <strong data-i18n="links_pypi">PyPI:</strong> <a href="https://pypi.org/project/mcp-calculate-server/" target="_blank">https://pypi.org/project/mcp-calculate-server/</a></li>
                <li><i class="fab fa-github"></i> <strong data-i18n="links_source">æºç :</strong> <a href="https://github.com/xiaoyingv/mcp_calculate_server" target="_blank">https://github.com/xiaoyingv/mcp_calculate_server</a></li>
                <li><i class="fas fa-balance-scale"></i> <strong data-i18n="links_license">åè®®:</strong> <a href="https://github.com/xiaoyingv/mcp_calculate_server/blob/main/LICENSE" target="_blank">MIT License</a></li>
            </ul>
            <div class="btn-container">
                <a href="https://github.com/xiaoyingv/mcp_calculate_server" class="btn" target="_blank"><i class="fab fa-github"></i> <span data-i18n="btn_github">è®¿é—® GitHub</span></a>
                <a href="https://pypi.org/project/mcp-calculate-server/" class="btn btn-outline" target="_blank"><i class="fab fa-python"></i> <span data-i18n="btn_pypi">æŸ¥çœ‹ PyPI</span></a>
            </div>
        </section>

    </main>

    <footer>
        <div class="container">
            <p id="footer-license-text"></p>
            <p id="footer-contribute-text"></p>
        </div>
    </footer>

    <script>
        // å›½é™…åŒ–å†…å®¹
        const translations = {
            zh: {
                title: "<i class='fas fa-calculator'></i> mcp_calculate_server",
                subtitle: "åŸºäº Python AST çš„å®‰å…¨è¡¨è¾¾å¼è®¡ç®—å™¨ MCP æœåŠ¡",
                badge_pypi: "PyPI",
                badge_license: "MIT License",
                badge_python: "Python 3.13+",
                badge_github: "GitHub",
                section_intro_title: "ç®€ä»‹",
                section_intro_content: "mcp_calculate_server æ˜¯ä¸€ä¸ªè½»é‡çº§ã€å®‰å…¨çš„è®¡ç®—å™¨æœåŠ¡ï¼Œå®ƒå®ç°äº† Model Context Protocol (MCP)ã€‚é€šè¿‡åˆ©ç”¨ Python çš„æŠ½è±¡è¯­æ³•æ ‘ (AST) è¿›è¡Œè¡¨è¾¾å¼è§£æï¼Œå®ƒé¿å…äº†ä½¿ç”¨å±é™©çš„ <code>eval()</code> å‡½æ•°ï¼Œä»è€Œæœ‰æ•ˆé˜²æ­¢ä»£ç æ³¨å…¥é£é™©ã€‚å®ƒä¸“æ³¨äºæä¾›åŸºç¡€çš„æ•°å­¦è¿ç®—èƒ½åŠ›ï¼Œå¹¶å†…ç½®äº†å®Œå–„çš„é”™è¯¯å¤„ç†æœºåˆ¶ã€‚",
                section_features_title: "æ ¸å¿ƒåŠŸèƒ½",
                feature_basic_ops_title: "åŸºç¡€è¿ç®—",
                feature_basic_ops_content: "æ”¯æŒåŠ æ³•ã€å‡æ³•ã€ä¹˜æ³•ã€é™¤æ³•å››åˆ™è¿ç®—ï¼Œæ»¡è¶³æ—¥å¸¸è®¡ç®—éœ€æ±‚ã€‚",
                feature_security_title: "å®‰å…¨ä¿éšœ",
                feature_security_content: "åŸºäº AST è§£æï¼Œæœç»ä»£ç æ³¨å…¥ï¼›å†…ç½®é™¤é›¶ã€è¯­æ³•ã€ç±»å‹ç­‰é”™è¯¯é˜²æŠ¤ã€‚",
                feature_mcp_title: "MCPé›†æˆ",
                feature_mcp_content: "ä½œä¸ºæ ‡å‡† MCP æœåŠ¡ï¼Œå¯è½»æ¾é›†æˆåˆ° Claude Desktop ç­‰æ”¯æŒ MCP çš„åº”ç”¨ä¸­ã€‚",
                section_features_detail_title: "è¯¦ç»†ç‰¹æ€§",
                feature_list_1: "âœ… æ”¯æŒåŠ å‡ä¹˜é™¤å››åˆ™è¿ç®—ï¼ˆ<code>+</code>, <code>-</code>, <code>*</code>, <code>/</code>ï¼‰",
                feature_list_2: "âœ… æ”¯æŒæ­£è´Ÿå·å¤„ç†ï¼ˆ<code>+5</code>, <code>-3</code>ï¼‰",
                feature_list_3: "âœ… è‡ªåŠ¨æ ¼å¼åŒ–è®¡ç®—ç»“æœï¼ˆä¿ç•™ä¸¤ä½å°æ•°ï¼‰",
                feature_list_4: "âš ï¸ æ‹¦æˆªä»£ç æ³¨å…¥é£é™©ï¼ˆé€šè¿‡ AST è§£æè€Œé <code>eval</code>ï¼‰",
                feature_list_5: "âš ï¸ é™¤é›¶é”™è¯¯é˜²æŠ¤",
                feature_list_6: "âš ï¸ è¯­æ³•é”™è¯¯æç¤º",
                feature_list_7: "âš ï¸ ç±»å‹å®‰å…¨æ£€æŸ¥",
                section_install_title: "å¿«é€Ÿå®‰è£…",
                section_install_content: "åªéœ€ä¸€è¡Œå‘½ä»¤ï¼Œå³å¯å®‰è£…å¹¶å¼€å§‹ä½¿ç”¨ï¼š",
                section_usage_title: "å¿«é€Ÿä½¿ç”¨",
                section_usage_config: "åœ¨æ‚¨çš„ MCP å®¢æˆ·ç«¯é…ç½®ï¼ˆå¦‚ <code>claude_desktop_config.json</code>ï¼‰ä¸­æ·»åŠ ä»¥ä¸‹æœåŠ¡å®šä¹‰ï¼š",
                section_usage_code_alt: "æˆ–è€…ï¼Œæ‚¨ä¹Ÿå¯ä»¥ç›´æ¥é€šè¿‡ Python ä»£ç å¯åŠ¨æœåŠ¡ï¼š",
                python_code: `<pre><code>from mcp.server.fastmcp import FastMCP

# å¯åŠ¨è®¡ç®—å™¨æœåŠ¡
calculator = FastMCP("CalculatorServer")
calculator.run(transport='stdio')</code></pre>`,
                section_api_title: "API æ¥å£",
                section_api_content: "è¿™æ˜¯æ ¸å¿ƒçš„è®¡ç®—æ¥å£ã€‚å®ƒæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²å½¢å¼çš„æ•°å­¦è¡¨è¾¾å¼ï¼Œå¹¶è¿”å›æ ¼å¼åŒ–çš„è®¡ç®—ç»“æœæˆ–é”™è¯¯ä¿¡æ¯ã€‚",
                section_api_example_title: "ç¤ºä¾‹:",
                api_example: `<pre><code>>>> perform_calculation("5+3")
"ğŸ§® è®¡ç®—ç»“æœï¼š5+3 = 8.00"

>>> perform_calculation("10/0")
"âŒ é”™è¯¯ï¼šé™¤æ•°ä¸èƒ½ä¸ºé›¶"

>>> perform_calculation("2**3")
"âŒ ä¸æ”¯æŒçš„è¿ç®—ç¬¦ï¼šPower"</code></pre>`,
                section_operators_title: "æ”¯æŒçš„è¿ç®—ç¬¦",
                // è¿ç®—ç¬¦è¡¨æ ¼å†…å®¹
                operators_table: `
                <table>
                    <thead>
                        <tr>
                            <th>æ“ä½œç¬¦</th>
                            <th>è¯´æ˜</th>
                            <th>ç¤ºä¾‹</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>+</code></td>
                            <td>åŠ æ³•</td>
                            <td><code>3+4</code></td>
                        </tr>
                        <tr>
                            <td><code>-</code></td>
                            <td>å‡æ³•</td>
                            <td><code>5-2</code></td>
                        </tr>
                        <tr>
                            <td><code>*</code></td>
                            <td>ä¹˜æ³•</td>
                            <td><code>6*7</code></td>
                        </tr>
                        <tr>
                            <td><code>/</code></td>
                            <td>é™¤æ³•</td>
                            <td><code>8/2</code></td>
                        </tr>
                        <tr>
                            <td><code>-x</code></td>
                            <td>å–è´Ÿ</td>
                            <td><code>-5</code></td>
                        </tr>
                        <tr>
                            <td><code>+x</code></td>
                            <td>å–æ­£</td>
                            <td><code>+3</code></td>
                        </tr>
                    </tbody>
                </table>`,
                section_errors_title: "é”™è¯¯å¤„ç†",
                section_errors_content: "æœåŠ¡å†…ç½®äº†å¤šç§é”™è¯¯å¤„ç†æœºåˆ¶ï¼Œç¡®ä¿å¥å£®æ€§ï¼š",
                // é”™è¯¯å¤„ç†è¡¨æ ¼å†…å®¹
                errors_table: `
                <table>
                    <thead>
                        <tr>
                            <th>é”™è¯¯ç±»å‹</th>
                            <th>ç¤ºä¾‹è¾“å‡º</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>è¯­æ³•é”™è¯¯</td>
                            <td><code>âŒ è¡¨è¾¾å¼è¯­æ³•é”™è¯¯ï¼šunexpected EOF</code></td>
                        </tr>
                        <tr>
                            <td>ä¸æ”¯æŒçš„è¿ç®—ç¬¦</td>
                            <td><code>âŒ ä¸æ”¯æŒçš„è¿ç®—ç¬¦ï¼šMod</code></td>
                        </tr>
                        <tr>
                            <td>é™¤é›¶é”™è¯¯</td>
                            <td><code>âŒ é”™è¯¯ï¼šé™¤æ•°ä¸èƒ½ä¸ºé›¶</code></td>
                        </tr>
                        <tr>
                            <td>éæ³•æ“ä½œæ•°ç±»å‹</td>
                            <td><code>TypeError: ä¸æ”¯æŒçš„å¸¸é‡ç±»å‹</code></td>
                        </tr>
                    </tbody>
                </table>`,
                section_links_title: "èµ„æºé“¾æ¥",
                links_pypi: "PyPI:",
                links_source: "æºç :",
                links_license: "åè®®:",
                btn_github: "è®¿é—® GitHub",
                btn_pypi: "æŸ¥çœ‹ PyPI",
                // é¡µè„šå†…å®¹
                footer_license: "&copy; 2025 mcp_calculate_server. åŸºäº <a href='https://github.com/xiaoyingv/mcp_calculate_server/blob/main/LICENSE' target='_blank'>MIT License</a> å¼€æº.",
                footer_contribute: "æ¬¢è¿ <a href='https://github.com/xiaoyingv/mcp_calculate_server/issues' target='_blank'>æäº¤ Issue</a> å’Œ <a href='https://github.com/xiaoyingv/mcp_calculate_server/pulls' target='_blank'>Pull Request</a> è´¡çŒ®ä»£ç ï¼",
            },
            en: {
                title: "<i class='fas fa-calculator'></i> mcp_calculate_server",
                subtitle: "A Secure Expression Calculator MCP Service Based on Python AST",
                badge_pypi: "PyPI",
                badge_license: "MIT License",
                badge_python: "Python 3.13+",
                badge_github: "GitHub",
                section_intro_title: "Introduction",
                section_intro_content: "mcp_calculate_server is a lightweight and secure calculator service that implements the Model Context Protocol (MCP). By using Python's Abstract Syntax Tree (AST) for expression parsing, it avoids the dangerous <code>eval()</code> function, effectively preventing code injection risks. It focuses on providing basic mathematical operations and has built-in comprehensive error handling mechanisms.",
                section_features_title: "Core Features",
                feature_basic_ops_title: "Basic Operations",
                feature_basic_ops_content: "Supports addition, subtraction, multiplication, and division to meet daily calculation needs.",
                feature_security_title: "Security Assurance",
                feature_security_content: "Based on AST parsing to prevent code injection; built-in protection against division by zero, syntax, and type errors.",
                feature_mcp_title: "MCP Integration",
                feature_mcp_content: "As a standard MCP service, it can be easily integrated into applications that support MCP, such as Claude Desktop.",
                section_features_detail_title: "Detailed Features",
                feature_list_1: "âœ… Supports basic arithmetic operations (+, -, *, /)",
                feature_list_2: "âœ… Handles positive and negative signs (+5, -3)",
                feature_list_3: "âœ… Automatically formats calculation results (keeps two decimal places)",
                feature_list_4: "âš ï¸ Prevents code injection risks (via AST parsing instead of <code>eval</code>)",
                feature_list_5: "âš ï¸ Division by zero protection",
                feature_list_6: "âš ï¸ Syntax error prompts",
                feature_list_7: "âš ï¸ Type safety checks",
                section_install_title: "Quick Install",
                section_install_content: "Install and start using with just one command:",
                section_usage_title: "Quick Start",
                section_usage_config: "Add the following service definition to your MCP client configuration (e.g., <code>claude_desktop_config.json</code>):",
                section_usage_code_alt: "Alternatively, you can start the service directly via Python code:",
                python_code: `<pre><code>from mcp.server.fastmcp import FastMCP

# Start the calculator service
calculator = FastMCP("CalculatorServer")
calculator.run(transport='stdio')</code></pre>`,
                section_api_title: "API Interface",
                section_api_content: "This is the core calculation interface. It takes a string-formatted mathematical expression and returns a formatted result or error message.",
                section_api_example_title: "Examples:",
                api_example: `<pre><code>>>> perform_calculation("5+3")
"ğŸ§® Calculation result: 5+3 = 8.00"

>>> perform_calculation("10/0")
"âŒ Error: Division by zero"

>>> perform_calculation("2**3")
"âŒ Unsupported operator: Power"</code></pre>`,
                section_operators_title: "Supported Operators",
                // è¿ç®—ç¬¦è¡¨æ ¼å†…å®¹
                operators_table: `
                <table>
                    <thead>
                        <tr>
                            <th>Operator</th>
                            <th>Description</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>+</code></td>
                            <td>Addition</td>
                            <td><code>3+4</code></td>
                        </tr>
                        <tr>
                            <td><code>-</code></td>
                            <td>Subtraction</td>
                            <td><code>5-2</code></td>
                        </tr>
                        <tr>
                            <td><code>*</code></td>
                            <td>Multiplication</td>
                            <td><code>6*7</code></td>
                        </tr>
                        <tr>
                            <td><code>/</code></td>
                            <td>Division</td>
                            <td><code>8/2</code></td>
                        </tr>
                        <tr>
                            <td><code>-x</code></td>
                            <td>Negation</td>
                            <td><code>-5</code></td>
                        </tr>
                        <tr>
                            <td><code>+x</code></td>
                            <td>Positive</td>
                            <td><code>+3</code></td>
                        </tr>
                    </tbody>
                </table>`,
                section_errors_title: "Error Handling",
                section_errors_content: "The service has multiple built-in error handling mechanisms to ensure robustness:",
                // é”™è¯¯å¤„ç†è¡¨æ ¼å†…å®¹
                errors_table: `
                <table>
                    <thead>
                        <tr>
                            <th>Error Type</th>
                            <th>Example Output</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Syntax Error</td>
                            <td><code>âŒ Expression syntax error: unexpected EOF</code></td>
                        </tr>
                        <tr>
                            <td>Unsupported Operator</td>
                            <td><code>âŒ Unsupported operator: Mod</code></td>
                        </tr>
                        <tr>
                            <td>Division by Zero Error</td>
                            <td><code>âŒ Error: Division by zero</code></td>
                        </tr>
                        <tr>
                            <td>Invalid Operand Type</td>
                            <td><code>TypeError: Unsupported constant type</code></td>
                        </tr>
                    </tbody>
                </table>`,
                section_links_title: "Resources",
                links_pypi: "PyPI:",
                links_source: "Source:",
                links_license: "License:",
                btn_github: "Visit GitHub",
                btn_pypi: "View PyPI",
                // é¡µè„šå†…å®¹
                footer_license: "&copy; 2025 mcp_calculate_server. Based on <a href='https://github.com/xiaoyingv/mcp_calculate_server/blob/main/LICENSE' target='_blank'>MIT License</a> open source.",
                footer_contribute: "Welcome to <a href='https://github.com/xiaoyingv/mcp_calculate_server/issues' target='_blank'>submit Issues</a> and <a href='https://github.com/xiaoyingv/mcp_calculate_server/pulls' target='_blank'>Pull Requests</a> to contribute code!",
            }
        };

        // åˆ‡æ¢è¯­è¨€çš„å‡½æ•°
        function changeLanguage(lang) {
            const currentLang = document.documentElement.lang;
            if (currentLang === lang) return; // å¦‚æœè¯­è¨€æ²¡å˜ï¼Œåˆ™ä¸æ‰§è¡Œ

            document.documentElement.lang = lang;
            
            if (lang === 'en') {
                document.title = 'mcp_calculate_server - Secure Calculator MCP Service';
                document.getElementById('langToggle').textContent = 'ä¸­æ–‡';
            } else {
                document.title = 'mcp_calculate_server - å®‰å…¨è®¡ç®—å™¨MCPæœåŠ¡';
                document.getElementById('langToggle').textContent = 'EN';
            }

            // æ›´æ–°æ‰€æœ‰å¸¦æœ‰ data-i18n å±æ€§çš„å…ƒç´ 
            document.querySelectorAll('[data-i18n]').forEach(element => {
                const key = element.getAttribute('data-i18n');
                if (translations[lang][key]) {
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = translations[lang][key];
                    } else {
                        element.innerHTML = translations[lang][key];
                    }
                }
            });

            // ç‰¹æ®Šå¤„ç†ä»£ç å—ã€è¡¨æ ¼å’Œé¡µè„šå†…å®¹
            document.getElementById('python-code-container').innerHTML = translations[lang].python_code;
            document.getElementById('api-example-container').innerHTML = translations[lang].api_example;
            document.getElementById('operators-table-container').innerHTML = translations[lang].operators_table;
            document.getElementById('errors-table-container').innerHTML = translations[lang].errors_table;
            document.getElementById('footer-license-text').innerHTML = translations[lang].footer_license;
            document.getElementById('footer-contribute-text').innerHTML = translations[lang].footer_contribute;
        }

        // é¡µé¢åŠ è½½å®Œæˆåç»‘å®šäº‹ä»¶
        document.addEventListener('DOMContentLoaded', function() {
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, {
                threshold: 0.1
            });

            document.querySelectorAll('.animate-on-scroll').forEach(el => {
                observer.observe(el);
            });

            // ä¸ºæ ‡é¢˜æ·»åŠ æµ®åŠ¨åŠ¨ç”»å»¶è¿Ÿ
            const headerElements = document.querySelectorAll('header .header-content > *');
            headerElements.forEach((el, index) => {
                el.style.animationDelay = `${index * 0.2}s`;
            });

            // ç»‘å®šè¯­è¨€åˆ‡æ¢æŒ‰é’®äº‹ä»¶
            document.getElementById('langToggle').addEventListener('click', function() {
                const currentLang = document.documentElement.lang;
                if (currentLang === 'zh-CN' || currentLang === 'zh') {
                    changeLanguage('en');
                } else {
                    changeLanguage('zh');
                }
            });

            // åˆå§‹åŒ–é¡µé¢å†…å®¹ï¼ˆåŠ è½½ä¸­æ–‡ï¼‰
            changeLanguage('zh');
        });
    </script>

</body>
</html>
